---
title: 博客迁移过程
abbrlink: 444020035
date: 2025-11-10 20:22:52
tags:
---
博客迁移需要在另一台电脑上搭建 Hexo 博客环境需要重新安装所有必要的软件和配置。下面是详细的步骤指南：

## 第一步：安装必要软件

### 1. 安装 Git
**下载地址：** https://git-scm.com/

**安装注意事项：**
- 一路点击 "Next" 即可
- 选择默认的文本编辑器（推荐选择 VSCode）
- 其他设置保持默认

### 2. 安装 Node.js
**下载地址：** https://nodejs.org/（选择 LTS 版本）

**安装注意事项：**
- 同样一路点击 "Next"
- 安装完成后需要验证是否成功

### 3. 安装 VSCode
**下载地址：** https://code.visualstudio.com/

---

## 第二步：验证安装和配置 Git

### 1. 验证 Git 安装
打开命令提示符（CMD）或 PowerShell，输入：
```bash
git --version
```
应该显示 Git 版本号。

### 2. 配置 Git 用户信息（重要！）
```bash
git config --global user.name "ruoshui-30"
git config --global user.email "你的GitHub注册邮箱"
```
**小贴士：**
如果你不想每次输入密码，可以运行：

```
bash
ssh-add ~/.ssh/id_ed25519
```
这样会将你的密钥添加到 SSH 代理，在一段时间内不需要重复输入密码
### 3. 验证 Node.js 安装
```bash
node --version
npm --version
```
两个命令都应该显示版本号。

---

## 第三步：克隆你的博客仓库

### 1. 找到合适的文件夹位置
比如在 `D:\Blog` 或 `~/Documents/Blog`

### 2. 克隆仓库
在选定的文件夹中打开命令提示符，或者使用 VSCode 的终端：
```bash
git clone https://github.com/你的用户名/你的博客仓库名.git
```

### 3. 进入项目文件夹
```bash
cd 你的博客仓库名
```

---

## 第四步：安装 Hexo 和项目依赖

### 1. 安装 Hexo 命令行工具（全局安装）
```bash
npm install -g hexo-cli
```
这里需要用管理员权限打开，可以通过以下命令切换管理员权限
```
Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope CurrentUser
```
### 2. 安装项目依赖
在你的博客项目文件夹中运行：
```bash
npm install
```
这个命令会根据你项目中的 `package.json` 文件安装所有必要的依赖包。

### 3. 验证 Hexo 安装
```bash
hexo --version
```

---

## 第五步：恢复你的博客环境

### 1. 检查主题是否完整
如果你的博客使用了第三方主题（如 butterfly、next 等），可能需要重新安装：安装第一个
```bash
npm install hexo-theme-主题名
```
或者如果主题是作为 Git 子模块引入的，需要运行：
```bash
git submodule update --init
```

### 2. 安装常用插件
根据你原来博客的配置，可能需要安装一些插件：
```bash
npm install hexo-deployer-git --save
npm install hexo-generator-searchdb --save
# 其他你需要的插件...
```

---

## 第六步：测试本地运行

### 1. 生成静态文件
```bash
hexo generate
# 或简写
hexo g
```

### 2. 启动本地服务器
```bash
hexo server
# 或简写
hexo s
```

### 3. 在浏览器中查看
打开浏览器访问 `http://localhost:4000`，应该能看到你的博客。

---

## 第七步：配置部署（如果需要）

### 1. 检查 `_config.yml` 文件
确保部署配置正确：
```yaml
deploy:
  type: git
  repo: https://github.com/你的用户名/你的仓库名.git
  branch: main  # 或 gh-pages，根据你的设置
```

### 2. 配置 GitHub 访问权限
如果你使用 SSH 方式部署，需要生成并添加 SSH 密钥：
**注意：**这里需要输入密码来保证安全性，第一次是输入邮件名字，不用管，直接回车，接下来输入密码，输入时虽然看不见，但是系统已经读取了（输入两次）
```bash
ssh-keygen -t rsa -b 4096 -C "你的邮箱"
```
然后将公钥（`id_rsa.pub` 文件内容）添加到 GitHub 的 SSH Keys 中。

配置密钥后，先测试连接，命令如下：

```
bash
ssh -T git@github.com
```

---

好的！在 Hexo 博客中，推送代码到 GitHub 仓库涉及到两个主要操作：

## 第八步：推送到远端仓库

### 1. 推送博客源代码（你的文章和配置）
这是备份你的原始 Markdown 文件、主题配置等。

```bash
# 添加所有更改的文件到暂存区
git add .

# 提交更改（写一个有意义的提交信息）
git commit -m "添加新文章：文章标题"

# 推送到 GitHub
git push origin main
# 或者如果你的默认分支是 master
git push origin master
```

### 2. 部署生成的静态网站（用于 GitHub Pages）

这是将 Hexo 生成的 HTML 文件部署到 GitHub Pages。

```bash
# 清理 + 生成 + 部署（推荐的一站式命令）
hexo clean && hexo g -d

# 或者分步骤执行
hexo clean    # 清理旧文件
hexo generate # 生成静态文件
hexo deploy   # 部署到 GitHub
```

### 完整的工作流程示例：

```bash
# 1. 写新文章
hexo new "我的新文章"

# 2. 在 VSCode 中编辑文章，保存

# 3. 本地预览（可选）
hexo server

# 4. 推送源代码到 GitHub（备份）
git add .
git commit -m "发布新文章：我的新文章"
git push origin main

# 5. 部署网站到 GitHub Pages
hexo clean && hexo g -d
```

### 重要提示：

#### 检查你的 `_config.yml` 配置
确保部署配置正确：
```yaml
deploy:
  type: git
  repo: https://github.com/你的用户名/你的仓库名.git
  # 或者使用 SSH 地址（如果你配置了 SSH 密钥）
  # repo: git@github.com:你的用户名/你的仓库名.git
  branch: gh-pages  # 或者 main，根据你的仓库设置
```

#### 如果遇到部署错误
先安装 hexo-deployer-git：
```bash
npm install hexo-deployer-git --save
```

### 简化的日常使用命令：

对于日常写作，你通常只需要这两个命令：

```bash
# 备份源代码
git add . && git commit -m "更新内容" && git push

# 部署网站
hexo clean && hexo g -d
```

### 验证部署是否成功：

1. 访问你的 GitHub Pages 网址（通常是 `https://你的用户名.github.io/你的仓库名`）
2. 检查是否显示了最新的内容

现在你可以尝试推送你的更改了！如果有任何错误信息，请复制给我看，我会帮你解决。

### 完整的一键验证脚本

安装完成后，你可以运行以下命令来验证所有功能：
```bash
# 验证安装
git --version
node --version
npm --version
hexo --version

# 清理、生成和预览
hexo clean
hexo g
hexo s
```

---

## 可能出现的问题及解决方案

### 1. **权限问题**
如果在安装过程中遇到权限错误，尝试：
```bash
# Windows：以管理员身份运行命令提示符
# Mac/Linux：在命令前加 sudo
sudo npm install -g hexo-cli
```

### 2. **网络问题**
如果 npm 安装很慢或失败，可以切换淘宝镜像：
```bash
npm config set registry https://registry.npmmirror.com/
```

### 3. **主题显示异常**
检查主题配置文件，确保主题文件完整，必要时重新安装主题。

### 4. **部署失败**
检查 `_config.yml` 中的部署配置，确保 GitHub 仓库地址正确。

---

## 总结安装流程

1. **安装软件**：Git → Node.js → VSCode
2. **配置 Git**：设置用户名和邮箱
3. **获取代码**：克隆你的博客仓库
4. **安装环境**：Hexo CLI → 项目依赖
5. **测试运行**：生成 → 本地预览
6. **配置部署**：检查部署设置
7. **远端推送**：将本地仓库与远端仓库同步

完成以上步骤后，你的新电脑就具备了完整的 Hexo 博客写作环境，可以像在原来电脑上一样写博客了！
